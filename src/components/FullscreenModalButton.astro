---
const currentPath = Astro.url.pathname;
---

<div
  id='modal-btn'
  tabindex='0'
  role='button'
  class='btn btn-ghost text-primary opacity-90'
  aria-haspopup='dialog'
  aria-expanded='false'
  aria-controls='hs-full-screen-modal'
  data-hs-overlay='#hs-full-screen-modal'
>
  <svg
    xmlns='http://www.w3.org/2000/svg'
    class='h-5 w-5'
    fill='none'
    viewBox='0 0 24 24'
    stroke='currentColor'
  >
    <path
      stroke-linecap='round'
      stroke-linejoin='round'
      stroke-width='2'
      d='M4 6h16M4 12h8m-8 6h16'></path>
  </svg>
</div>

<script define:vars={{ currentPath }}>
  const modalBtn = document.querySelector('#modal-btn');
  const page = document.documentElement;

  // Display unique positioning / behavior for navbar on homepage
  if (currentPath === '/') {
    modalBtn.classList.remove('btn-ghost', 'text-primary');

    document.addEventListener('scroll', () => {
      const d = page.clientHeight - page.scrollTop - modalBtn.offsetHeight;
      modalBtn.classList.toggle('btn-ghost', d < 0);
      modalBtn.classList.toggle('text-primary', d < 0);
    });
  }
</script>
